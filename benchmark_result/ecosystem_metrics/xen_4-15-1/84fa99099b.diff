From 84fa99099b920f7bcde8899e1a9b756078719d7d Mon Sep 17 00:00:00 2001
From: Jan Beulich <jbeulich@suse.com>
Date: Fri, 10 Sep 2021 09:03:24 +0200
Subject: [PATCH] update Xen version to 4.15.1

---
 Config.mk    | 8 +++-----
 xen/Makefile | 2 +-
 2 files changed, 4 insertions(+), 6 deletions(-)

diff --git a/Config.mk b/Config.mk
index 2ff1ed2ce3..84817f47a1 100644
--- a/Config.mk
+++ b/Config.mk
@@ -245,17 +245,15 @@ SEABIOS_UPSTREAM_URL ?= git://xenbits.xen.org/seabios.git
 MINIOS_UPSTREAM_URL ?= git://xenbits.xen.org/mini-os.git
 endif
 OVMF_UPSTREAM_REVISION ?= a3741780fe3535e19e02efa869a7cac481891129
-QEMU_UPSTREAM_REVISION ?= qemu-xen-4.15.0
-MINIOS_UPSTREAM_REVISION ?= xen-RELEASE-4.15.0
+QEMU_UPSTREAM_REVISION ?= qemu-xen-4.15.1
+MINIOS_UPSTREAM_REVISION ?= xen-RELEASE-4.15.1
 
 SEABIOS_UPSTREAM_REVISION ?= rel-1.14.0
 
 ETHERBOOT_NICS ?= rtl8139 8086100e
 
 
-QEMU_TRADITIONAL_REVISION ?= xen-4.15.0
-# Wed Jul 15 10:01:40 2020 +0100
-# qemu-trad: remove Xen path dependencies
+QEMU_TRADITIONAL_REVISION ?= xen-4.15.1
 
 # Specify which qemu-dm to use. This may be `ioemu' to use the old
 # Mercurial in-tree version, or a local directory, or a git URL.
diff --git a/xen/Makefile b/xen/Makefile
index ae2fa0fda3..5d5a1a0fa6 100644
--- a/xen/Makefile
+++ b/xen/Makefile
@@ -2,7 +2,7 @@
 # All other places this is stored (eg. compile.h) should be autogenerated.
 export XEN_VERSION       = 4
 export XEN_SUBVERSION    = 15
-export XEN_EXTRAVERSION ?= .1-pre$(XEN_VENDORVERSION)
+export XEN_EXTRAVERSION ?= .1$(XEN_VENDORVERSION)
 export XEN_FULLVERSION   = $(XEN_VERSION).$(XEN_SUBVERSION)$(XEN_EXTRAVERSION)
 -include xen-version
 
-- 
2.30.2

